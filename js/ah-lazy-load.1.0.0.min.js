!function(t){function e(r){if(l[r])return l[r].exports;var s=l[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var l={};e.m=t,e.c=l,e.d=function(t,l,r){e.o(t,l)||Object.defineProperty(t,l,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var l=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(l,"a",l),l},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="C:\\work\\projects\\lazy-load\\dist",e(e.s=0)}([function(t,e){!function(t){var e,l,r,s,a,i,n,o,c=250,d=200,u="data-lazy",y="scroll",p="img",f={xs:320,sm:640,md:768,lg:1024,xl:1200},m=[],g=function(){};window.lazy={init:function(t){t=t||{},u=t.dataAttributeName||u,l=u+"-id",r=u+"-id-child",s=u+"-viewport",a=u+"-extend",c=t.threshold||c,d=t.offset||d,y=t.event||y,p=t.type||p,g=t.callback||g,f=t.breakpoints||f,i=lazy.getViewport(),n=i,window.addEventListener("scroll",lazy.process,!1),window.addEventListener("load",lazy.process,!1),lazy.set(t),window.addEventListener("resize",function(){clearTimeout(o),o=setTimeout(lazy.resized(t),10)})},resized:function(t){if((i=lazy.getViewport())!=n){for(var e=document.querySelectorAll("["+r+"]"),l=0,s=e.length;l<s;++l)e[l].parentNode.removeChild(e[l]);lazy.set(t),lazy.process(t),n=i}},set:function(t){for(var e=0,r=lazy.getViewport(),i=document.querySelectorAll("["+u+"]"),n=0,o=i.length;n<o;++n){if(u=t.dataAttributeName||u,e++,i[n].setAttribute(l,e),lazy.removeStyle(i[n],"display"),!i[n].getAttribute(s)){var c=!1;for(var d in f)if(d==r&&(c=!0),c&&i[n].getAttribute(u+"-"+d)){r=d,u+="-"+d;break}}var y=JSON.parse(i[n].getAttribute(u));i[n].getAttribute("alt")&&(y.alt=i[n].getAttribute("alt")),i[n].getAttribute("title")&&(y.title=i[n].getAttribute("title"));var p=y||!1,m=JSON.parse(i[n].getAttribute(s))||!1;jsonExtend=p,m&&(jsonExtend=Object.assign(p,m)),i[n].setAttribute(a,JSON.stringify(jsonExtend)),i[n].classList.remove("c-lazy"),y.event&&"click"!==y.event&&i[n].classList.add("c-lazy"),jsonExtend.classLazy&&i[n].classList.add(jsonExtend.classLazy),lazy.resize(i[n],jsonExtend)}},resize:function(t,e){var l=e.w&&-1!==e.w.toString().indexOf("%")?"%":"px",r=e.h&&-1!==e.h.toString().indexOf("%")?"%":"px";if(e.w&&e.h)t.style.width=parseInt(e.w)+l,t.style.height=parseInt(e.h)+r;else if(e.sw&&e.sh){var s=e.sw/e.sh;e.w?(t.style.width=parseInt(e.w)+l,t.getAttribute(a)&&("%"==l?t.style.height=Math.round(t.offsetWidth/s)+"px":"px"==l&&(t.style.height=Math.round(parseInt(e.w)/s)+"px"))):e.h?(t.style.height=parseInt(e.h)+r,t.getAttribute(a)&&("%"==r?t.style.width=Math.round(t.offsetHeight*s)+"px":"px"==r&&(t.style.width=Math.round(parseInt(e.h)*s)+"px"))):t.getAttribute(a)&&(t.style.width=e.sw+"px",t.style.height=e.sh+"px")}else e.w?t.style.width=parseInt(e.w)+l:e.h&&(t.style.height=parseInt(e.h)+r)},process:function(){e=setTimeout(function(){clearTimeout(e),lazy.walk()},c)},walk:function(){for(var t=document.querySelectorAll("["+a+"]"),e=0,r=t.length;e<r;++e){var s=JSON.parse(t[e].getAttribute(a)),i=s.event||y,n=s.type||p,o=t[e].getAttribute(l);"img"==n&&("load"==i||"scroll"==i&&lazy.inViewport(t[e]))?lazy.loadImg(t[e],s,o):"bg"==n&&("load"==i||"scroll"==i&&lazy.inViewport(t[e]))?lazy.loadBg(t[e],s,o):"iframe"==n&&("load"==i||"scroll"==i&&lazy.inViewport(t[e]))?lazy.loadFrame(t[e],s,o):"script"==n&&("load"==i||"scroll"==i&&lazy.inViewport(t[e]))&&(lazy.loadScript(t[e],s,o),t[e].classList.remove("c-lazy"),t[e].removeAttribute(u)),s.remClass&&("load"==i||"scroll"==i&&lazy.inViewport(t[e]))&&(lazy.remClass(t[e],s,o),t[e].classList.remove("c-lazy")),s.addClass&&("load"==i||"scroll"==i&&lazy.inViewport(t[e]))&&(lazy.addClass(t[e],s,o),t[e].classList.remove("c-lazy")),"css"==n&&t[e].classList.remove("c-lazy"),"svg"==n&&"scroll"==i&&lazy.inViewport(t[e])&&lazy.loadSvg(t[e],s,o),"click"===i&&t[e].addEventListener("click",lazy.triggerClick)}},triggerClick:function(t){lazy.loadScript(elements,json,id)},addClass:function(t,e){if(-1===e.addClass.indexOf(" "))t.classList.add(e.addClass);else for(var l=e.addClass.split(" "),r=0;r<l.length;r++)t.classList.add(l[r]);t.classList.remove("c-lazy"),t.removeAttribute(a)},remClass:function(t,e){if(-1===e.remClass.indexOf(" "))t.classList.remove(e.remClass);else for(var l=e.remClass.split(" "),r=0;r<l.length;r++)t.classList.remove(l[r]);t.classList.remove("c-lazy"),t.removeAttribute(a)},loadImg:function(t,e,l){var s=new Image;s.setAttribute(r,l),m[l]=s,s.onload=function(){t.parentNode.insertBefore(m[l],t.nextSibling),t.style.display="none",lazy.callback(t,m[l],e)},s.src=e.url,lazy.resize(s,e),e.title&&(s.title=e.title),e.alt&&(s.alt=e.alt),e.elClass&&s.setAttribute("class",e.elClass),t.removeAttribute(a)},loadSvg:function(t,e,l){var s=document.createElementNS("http://www.w3.org/2000/svg","svg");if(s.setAttribute(r,l),m[l]=s,e.use){var i=document.createElementNS("http://www.w3.org/2000/svg","use");i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.url+"#"+e.use),s.appendChild(i)}t.parentNode.insertBefore(m[l],t.nextSibling),t.style.display="none",lazy.callback(t,m[l],e),lazy.resize(s,e),e.title&&(s.title=e.title),e.alt&&(s.alt=e.alt),e.elClass&&s.setAttribute("class",e.elClass),t.removeAttribute(a)},loadBg:function(t,e,l){e.url&&(t.style.backgroundImage="url("+e.url+")",t.classList.remove("c-lazy"),lazy.callback(t,m[l],e)),e.elClass&&t.classList.add(e.elClass),t.removeAttribute(a)},loadFrame:function(t,e,l){if(document.querySelector("a["+r+'="'+l+'"]'))var s=document.querySelector("a["+r+'="'+l+'"]');else{var s=document.createElement("iframe");s.setAttribute(r,l),t.parentNode.insertBefore(s,t.nextSibling)}s.onload=function(){s.style.display="block",t.style.display="none",lazy.callback(t,m[l],e)},s.src=e.url,e.elClass&&s.setAttribute("class",e.elClass),s.style.display="none",lazy.resize(s,e),t.removeAttribute(a)},loadScript:function(t,e,l){var r=document.createElement("script");m[l]=r,t.parentNode.insertBefore(r,t.nextSibling),r.onload=function(){lazy.callback(t,m[l],e)},r.src=e.url,t.removeAttribute(a)},getViewport:function(){var t="CSS1Compat"===document.compatMode?document.documentElement:document.body,e="";for(var l in f)if(t.clientWidth<=f[l]){e=l;break}return e},inViewport:function(t){var e=t.getBoundingClientRect(),l=e.top>-d&&e.top<window.innerHeight+d||e.bottom>-d&&e.bottom<window.innerHeight+d;return 0==e.top&&0==e.right&&0==e.left&&0==e.bottom&&0==e.width&&0==e.height&&(l=!1),l},callback:function(t,e,l){if(l.callback){if("null"==l.callback)return!1;var r=window[l.callback],s=new Array;if(l.args)for(var a=l.args.split(","),i=0;i<a.length;i++)s.push(a[i]);l.json&&s.push(JSON.parse(l.json)),s.push(t),s.push(e),"function"==typeof r&&r.apply(null,s)}else g(t,e)},removeEvents:function(){window.removeEventListener("scroll",lazy.process),clearTimeout(e)},removeStyle:function(t,e){if(!t.getAttribute("style"))return!1;for(var l="",r=t.getAttribute("style").split(";"),s=0;s<r.length;s++)elStyle=r[s].split(":"),elStyle[0]&&elStyle[1]&&(styleAtt=elStyle[0].trim(),styleVal=elStyle[1].trim(),e!=styleAtt&&(l+=styleAtt+":"+styleVal+";"));t.setAttribute("style",l)}}}()}]);
